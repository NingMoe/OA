<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Mapping file autogenerated by MyEclipse Persistence Tools -->
<hibernate-mapping>
	<class name="com.oa.entity.Fileinfo" table="fileinfo" catalog="test">
		<id name="fileId" type="java.lang.Integer">
			<column name="FileId" />
			<generator class="identity" />
		</id>

		<!-- <many-to-one name="userinfo" class="com.oa.entity.Userinfo" fetch="select" 
			unique="true"> <column name="FileOwner" length="50" not-null="true" /> </many-to-one> -->
		<many-to-one name="userinfo" column="FileOwner"	not-null="true" />

		<many-to-one name="filetypeinfo" class="com.oa.entity.Filetypeinfo"
			fetch="select">
			<column name="FileType" not-null="true" />
		</many-to-one>
		<property name="fileName" type="java.lang.String">
			<column name="FileName" length="50" not-null="true" />
		</property>
		<property name="remark" type="java.lang.String">
			<column name="Remark" length="50" />
		</property>
		<property name="createDate" type="java.sql.Timestamp">
			<column name="CreateDate" length="19" not-null="true" />
		</property>
		<property name="parentId" type="java.lang.Integer">
			<column name="ParentId" not-null="true" />
		</property>
		<property name="filePath" type="java.lang.String">
			<column name="FilePath" length="200" not-null="true" />
		</property>
		<property name="ifDelete" type="java.lang.Integer">
			<column name="IfDelete" not-null="true" />
		</property>
		<set name="accessoryfiles" inverse="true">
			<key>
				<column name="FileId" />
			</key>
			<one-to-many class="com.oa.entity.Accessoryfile" />
		</set>
		<set name="childFiles" inverse="true" lazy="true" cascade="all">
			<key>
				<column name="ParentId" />
			</key>
			<one-to-many class="com.oa.entity.Fileinfo" />
		</set>
		<property name="pids" type="java.lang.String">
			<column name="pids"/>
		</property>
	</class>
	
	<!-- <query name="queryName">
		<query-param name="fileName" type="java.lang.String"/>
		<query-param name="remark" type="java.lang.String"/>
		<![CDATA[SELECT f FROM Fileinfo f WHERE f.fileName=:fileName AND f.remark=:remark]]>
	</query> -->
</hibernate-mapping>
